<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Presença</title>

    <link rel="stylesheet" href="../global/font.css">
    <link rel="stylesheet" href="lista_presenca.css">
    <link rel="stylesheet" href="../chat/chat.css">
    <link rel="shortcut icon" href="../Logo/LOGO_02_DEGRADE.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>


</body>

<div class="switch-container">
    <main class="off" id="main-side">
        <div class="escrita">
            <h1>
                <a href="../meuPerfil/meuPerfil.html">

                    <div id="meuUsuario" class="meuUsuario">
                        <i class="bi bi-person-square"></i>
                        <br>
                        <p style="text-align: center;" id="userGreeting"></p>
                        <h4 style="font-size: xx-small;margin: 0; color: aqua; text-align: center;">Editar perfil
                        </h4>
                    </div>
            </h1>


            <h4> </a>
                <a href="../cadastro_prof/cadastro_prof.html">
                    <i class="bi bi-person-lock"></i> Cadastro do Profissional</a>
            </h4>

            <h4>
                <a href="#" onclick="redirecionaCadUser()">
                    <i class="bi bi-person-lock"></i> Cadastro de Usuário</a>
            </h4>

            <h4>
                <a href="../lista_presenca/lista_presenca.html">
                    <i class="bi bi-journals"></i> Lista de Presença</a>
            </h4>

            <h4>
                <a href="../calendario/calendario.html">
                    <i class="bi bi-calendar2-check"></i> Agendamento</a>
            </h4>



            <h4>
                <a href="../Fluxo_de_caixa/fluxo.html" id="flxLateral">
                    <i class="bi bi-cash-coin"></i> Fluxo de Caixa</a>
            </h4>
        </div>

        <div>
            <div class="contato"> Contato </div>
        </div>

        <div>
            <a class="contato" href="https://wa.me/message/6JNNR37HJXYQM1">
                <i class="bi bi-whatsapp"></i><span>
                </span>(19) 98149-4345</a>
        </div>

        <div>
            <a class="contato" href="https://www.instagram.com/ns_basetech?igsh=eXZ6aDl4dWt5NmRj">
                <i class="bi bi-instagram"></i><span style="margin-left: 5px;"></span>@ns_basetech </a>
        </div>



    </main>
    <label class="switch">
        <input type="checkbox" id="ch-side">
        <span class="slider"></span>
    </label>
</div>




<div class="container" id="mod-Presenca" class="PresencaSt">

    <form onsubmit="presenca(event)" id="formpresenca" class="form">

        <div class="heading">Lista de Presença</div>
        <br>
        <select style="padding: 8px; background: white; border-radius: 8px; margin-top: 2%; margin-bottom: 2%;"
            id="lista">
            <option value="-">Selecione um especialista</option>
        </select>
        <br>
        <select class="input" name="name" id="age_name_presenca" style="margin-bottom: 2%; margin-right: 2%;">
            <option value="">Selecione um paciente</option>
        </select>

        <!-- Filtro por data -->
        <br>
        <label for="filtroData">Data:</label>
        <input type="date" id="filtroData" name="filtroData" />

        <!-- Filtro por mês -->
        <label for="filtroMes">Mês:</label>
        <select id="filtroMes" name="filtroMes">
            <option value="">Todos</option>
            <option value="01">Janeiro</option>
            <option value="02">Fevereiro</option>
            <option value="03">Março</option>
            <option value="04">Abril</option>
            <option value="05">Maio</option>
            <option value="06">Junho</option>
            <option value="07">Julho</option>
            <option value="08">Agosto</option>
            <option value="09">Setembro</option>
            <option value="10">Outubro</option>
            <option value="11">Novembro</option>
            <option value="12">Dezembro</option>
        </select>

        <!-- Filtro por ano -->
        <label for="filtroAno">Ano:</label>
        <input type="number" id="filtroAno" name="filtroAno" min="2000" max="2100" placeholder="Ano" />

        <label for="filtroStatus">Status:</label>
        <select id="filtroStatus" name="filtroStatus">
            <option value="Todos">Todos</option>
            <option value="Compareceu">Presente</option>
            <option value="Faltou">Faltou</option>
        </select>

        <button class="cancel-button" onclick="loadConsultas(event)">Buscar Presença</button>
        <br>

        <div class="containertabela">
            <table id="tablePresencas">
                <thead>
                    <tr>
                        <th>Nome do Paciente</th>
                        <th>Data da Consulta</th>
                        <th>Início</th>
                        <th>Término</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="tbodyPresenca">
                </tbody>
            </table>
        </div>

        <input class="login-button" type="button" value="VOLTAR" id="btn-voltar-presenca">
</div>
</div>
</form>



</div>


<div id="meuModal" class="modal-container">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">&times;</span>

        <div class="modal-header">
            <h2>Detalhes do Agendamento</h2>
        </div>

        <div id="ticket-para-pdf">
            <p><strong>Paciente:</strong> <span id="modal-paciente"></span></p>
            <p><strong>Data:</strong> <span id="modal-data"></span></p>
            <p><strong>Horário:</strong> <span id="modal-horario"></span></p>
            <p><strong>Status:</strong> <span id="modal-status"></span></p>
            <p><strong>Especialista:</strong> <span id="modal-especialista"></span></p>
            <p><strong>Observação:</strong> <span id="modal-observacao"></span></p>
        </div>

        <div class="modal-footer">
            <button id="btnGerarPdf" onclick="gerarPDF()">Gerar PDF</button>
        </div>
    </div>
</div>


<script src="../global/auth.js"></script>
<script type="text/javascript" src="lista_presenca.js"></script>

</body>

</html>